services:
  # Cron job to update Shopify product metafields from tags
  # Runs daily at 6:00 PM UTC (adjust schedule as needed)
  - type: cron
    name: shopify-metafield-updater
    env: node
    # Schedule: 4 times daily at Hong Kong Time: 9am, 3pm, 6pm, 12am
    # HKT (UTC+8): 9am=1UTC, 3pm=7UTC, 6pm=10UTC, 12am=16UTC
    schedule: "0 1,7,10,16 * * *"
    buildCommand: npm install
    startCommand: node bulk-update-metafields-from-tags.js
    # Node.js version (optional, defaults to latest LTS)
    runtime: node
    # Environment variables (set these in Render dashboard)
    envVars:
      - key: SHOP_URL
        sync: false  # Set manually in Render dashboard
      - key: ACCESS_TOKEN
        sync: false  # Set manually in Render dashboard

